!function(){"use strict";class e{static Identificate(t){const s=document.querySelector(`.${t}`),c=document.querySelector(".visa"),a=document.querySelector(".master-card"),n=document.querySelector(".american_express"),i=document.querySelector(".mir");s.addEventListener("keyup",(()=>{e.checkForVisa(s.value)?c.classList.remove("no-active"):c.classList.add("no-active"),e.checkForMasterCard(s.value)?a.classList.remove("no-active"):a.classList.add("no-active"),e.checkForAmericanExpress(s.value)?n.classList.remove("no-active"):n.classList.add("no-active"),e.checkForMIR(s.value)?i.classList.remove("no-active"):i.classList.add("no-active")}))}static checkForVisa(e){return!!/^4/.test(e)}static checkForMasterCard(e){const t=[/^51/,/^52/,/^53/,/^54/,/^55/];let s=!1;for(let c=0;c<t.length-1;c+=1){t[c].test(e)&&(s=!0)}return s}static checkForAmericanExpress(e){const t=[/^34/,/^37/];let s=!1;for(let c=0;c<t.length-1;c+=1){t[c].test(e)&&(s=!0)}return s}static checkForMIR(e){return!!/^2/.test(e)}}new class{constructor(){this.createWindow()}createWindow(){const e=document.querySelector("body"),t=document.createElement("div");t.className="widget-window",e.append(t);const s=document.createElement("div");s.className="widget-bank-gallery",t.append(s);const c=["visa","mastercard","american_express","mir"];for(let e=0;e<c.length;e+=1){const t=document.createElement("div");t.className="bank-preview",t.classList.add(c[e]),t.classList.add("no-active"),s.append(t)}const a=document.createElement("form");a.className="widget-form",t.append(a);const n=document.createElement("input");n.className="widget-card-input",a.append(n);const i=document.createElement("button");i.className="widget-card-input-button",i.textContent="Click to Validate",a.append(i);const o=document.createElement("p");o.className="widget-hint",o.classList.add("hidden"),t.append(o)}},class{static Validate(e){const t=document.querySelector(`.${e}`);t.closest("form").querySelector("button").addEventListener("click",(e=>{if(e.preventDefault(),parseInt(t.value,10)){document.querySelector(".widget-hint").classList.add("hidden");const e=Array.from(t.value);if(e.length>19)document.querySelector(".widget-hint").classList.remove("hidden");else{const t=e.pop();console.log(t),e.reverse();const s=[];e.forEach(((e,t)=>{if(t%2==0){const t=2*e;s.push(t)}else s.push(parseInt(e,10))})),console.log(s);const c=[];s.forEach((e=>{if(e>9){const t=e-9;c.push(t)}else c.push(e)}));const a=0,n=10-c.reduce(((e,t)=>e+parseInt(t,10)),a)%10,i=document.querySelector(".widget-hint");n===parseInt(t,10)?(i.textContent="This card is Valid",i.classList.remove("denied"),i.classList.add("accept"),i.classList.remove("hidden")):(i.textContent="This card is invalid",i.classList.remove("accept"),i.classList.add("denied"),i.classList.remove("hidden"))}}else document.querySelector(".widget-hint").textContent="Введите ВАЛИДНЫЙ НОМЕР карты.",document.querySelector(".widget-hint").classList.remove("hidden")})),t.addEventListener("focus",(()=>{const e=document.querySelector(".widget-hint");e.classList.contains("hidden")||e.classList.add("hidden")}))}}.Validate("widget-card-input"),e.Identificate("widget-card-input")}();